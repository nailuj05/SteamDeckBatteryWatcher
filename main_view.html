<html>

<head>
    <link rel="stylesheet" href="/steam_resource/css/2.css">
    <link rel="stylesheet" href="/steam_resource/css/39.css">
    <link rel="stylesheet" href="/steam_resource/css/library.css">
    <script src="/static/library.js"></script>

    <script>
        function getCharge() {
            return call_plugin_method("getCharge", {});
        }

        async function Load() {
            p1.innerHTML = "set";

            window.setInterval(function () { updateBattery().then(_ => { }) }, 5000);
        }

        async function updateBattery() {
            let p1 = document.getElementById("p1");

            let current_charge = await getCharge();

            p1.innerText = (7.7 * chargeNow / 1000000).toFixed(2).toString() + " Wh (" + (100 * chargeNow / chargeFull).toFixed(0).toString() + "%)";
        }
    </script>
</head>

<body onload="Load()">
    <h2>Hello World</h2>
    <h3 id="p1">not set</h3>
</body>

</html>